import{d as A,F as I,G as N,H as f,b as s,v as d,a,w as n,I as S,J as F,K as L,L as u,e as z,o as h,u as o,i as $,M as T,j as q,N as B,t as M,O as P,k as V,P as E,Q as y,R as v,S as G,m as H,l as J,T as K}from"./index-CILAngGp.js";import{p as O,d as Q,t as R,a as U}from"./index-BIy6QEMb.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"dashboard"},Y={class:"dashboard-header"},Z={class:"header-time"},x={class:"time"},ss={class:"date"},ts={class:"stats-grid"},as={class:"stat-card projects"},es={class:"stat-content"},ls={class:"stat-icon"},ns={class:"stat-info"},os={class:"stat-value"},is={class:"stat-trend"},ds={class:"stat-card documents"},cs={class:"stat-content"},rs={class:"stat-icon"},us={class:"stat-info"},vs={class:"stat-value"},_s={class:"stat-trend"},ps={class:"stat-card testcases"},ms={class:"stat-content"},fs={class:"stat-icon"},hs={class:"stat-info"},gs={class:"stat-value"},Cs={class:"stat-trend"},ws={class:"stat-card scripts"},bs={class:"stat-content"},js={class:"stat-icon"},ks={class:"stat-info"},$s={class:"stat-value"},ys={class:"stat-trend"},Ds={class:"main-content"},As={class:"quick-actions-panel"},Is={class:"actions-grid"},Ns={class:"action-icon-wrapper"},Ss={class:"action-arrow"},Fs={class:"action-icon-wrapper"},Ls={class:"action-arrow"},zs={class:"action-icon-wrapper ai"},Ts={class:"action-arrow"},qs={class:"action-icon-wrapper"},Bs={class:"action-arrow"},Ms={class:"side-panel"},Ps={class:"recent-projects"},Vs=["onClick"],Es={class:"project-icon"},Gs={class:"project-info"},Hs={class:"project-name"},Js={class:"project-meta"},Ks={class:"project-date"},Os={key:0,class:"empty-state"},Qs=A({__name:"Dashboard",setup(Rs){const c=u({projects:0,documents:0,testCases:0,scripts:0}),r=u({projects:0,documents:0,testCases:0,scripts:0}),g=u([]),w=u(""),b=u("");let C=null;const j=()=>{const l=new Date;w.value=l.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),b.value=l.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})},_=(l,t)=>{const i=r.value[t],p=(l-i)/(1e3/16);let m=i;const k=()=>{m+=p,p>0&&m>=l||p<0&&m<=l?r.value[t]=l:(r.value[t]=Math.round(m),requestAnimationFrame(k))};requestAnimationFrame(k)},D=l=>l?new Date(l).toLocaleDateString("zh-CN",{month:"short",day:"numeric"}):"-";return I(async()=>{j(),C=window.setInterval(j,1e3);try{const[l,t,e,i]=await Promise.all([O.list({limit:5}),Q.list({limit:100}),R.list({limit:100}),U.list({limit:100})]);g.value=l,c.value.projects=l.length,c.value.documents=t.length,c.value.testCases=e.length,c.value.scripts=i.length,_(c.value.projects,"projects"),_(c.value.documents,"documents"),_(c.value.testCases,"testCases"),_(c.value.scripts,"scripts")}catch(l){console.error("Failed to load dashboard data:",l)}}),N(()=>{C&&clearInterval(C)}),(l,t)=>{const e=z;return h(),f("div",X,[s("div",Y,[t[4]||(t[4]=s("div",{class:"header-content"},[s("h1",{class:"title"},"测试用例生成平台"),s("p",{class:"subtitle"},"AI驱动的智能化测试用例管理系统")],-1)),s("div",Z,[s("div",x,d(w.value),1),s("div",ss,d(b.value),1)])]),s("div",ts,[s("div",as,[t[7]||(t[7]=s("div",{class:"stat-bg"},null,-1)),s("div",es,[s("div",ls,[a(e,null,{default:n(()=>[a(o($))]),_:1})]),s("div",ns,[s("div",os,d(r.value.projects),1),t[5]||(t[5]=s("div",{class:"stat-label"},"项目总数",-1))])]),s("div",is,[a(e,null,{default:n(()=>[a(o(T))]),_:1}),t[6]||(t[6]=s("span",null,"活跃项目",-1))])]),s("div",ds,[t[10]||(t[10]=s("div",{class:"stat-bg"},null,-1)),s("div",cs,[s("div",rs,[a(e,null,{default:n(()=>[a(o(q))]),_:1})]),s("div",us,[s("div",vs,d(r.value.documents),1),t[8]||(t[8]=s("div",{class:"stat-label"},"文档总数",-1))])]),s("div",_s,[a(e,null,{default:n(()=>[a(o(B))]),_:1}),t[9]||(t[9]=s("span",null,"已解析",-1))])]),s("div",ps,[t[13]||(t[13]=s("div",{class:"stat-bg"},null,-1)),s("div",ms,[s("div",fs,[a(e,null,{default:n(()=>[a(o(M))]),_:1})]),s("div",hs,[s("div",gs,d(r.value.testCases),1),t[11]||(t[11]=s("div",{class:"stat-label"},"测试用例",-1))])]),s("div",Cs,[a(e,null,{default:n(()=>[a(o(P))]),_:1}),t[12]||(t[12]=s("span",null,"已审核",-1))])]),s("div",ws,[t[16]||(t[16]=s("div",{class:"stat-bg"},null,-1)),s("div",bs,[s("div",js,[a(e,null,{default:n(()=>[a(o(V))]),_:1})]),s("div",ks,[s("div",$s,d(r.value.scripts),1),t[14]||(t[14]=s("div",{class:"stat-label"},"测试脚本",-1))])]),s("div",ys,[a(e,null,{default:n(()=>[a(o(E))]),_:1}),t[15]||(t[15]=s("span",null,"可执行",-1))])])]),s("div",Ds,[s("div",As,[t[21]||(t[21]=s("div",{class:"panel-header"},[s("h2",null,"快速操作"),s("div",{class:"panel-line"})],-1)),s("div",Is,[s("div",{class:"action-card",onClick:t[0]||(t[0]=i=>l.$router.push("/projects"))},[s("div",Ns,[a(e,null,{default:n(()=>[a(o(y))]),_:1})]),t[17]||(t[17]=s("div",{class:"action-info"},[s("h3",null,"创建项目"),s("p",null,"新建测试项目")],-1)),s("div",Ss,[a(e,null,{default:n(()=>[a(o(v))]),_:1})])]),s("div",{class:"action-card",onClick:t[1]||(t[1]=i=>l.$router.push("/documents"))},[s("div",Fs,[a(e,null,{default:n(()=>[a(o(G))]),_:1})]),t[18]||(t[18]=s("div",{class:"action-info"},[s("h3",null,"上传文档"),s("p",null,"导入需求文档")],-1)),s("div",Ls,[a(e,null,{default:n(()=>[a(o(v))]),_:1})])]),s("div",{class:"action-card",onClick:t[2]||(t[2]=i=>l.$router.push("/test-cases/generate"))},[s("div",zs,[a(e,null,{default:n(()=>[a(o(H))]),_:1})]),t[19]||(t[19]=s("div",{class:"action-info"},[s("h3",null,"AI生成用例"),s("p",null,"智能生成测试用例")],-1)),s("div",Ts,[a(e,null,{default:n(()=>[a(o(v))]),_:1})])]),s("div",{class:"action-card",onClick:t[3]||(t[3]=i=>l.$router.push("/function-points"))},[s("div",qs,[a(e,null,{default:n(()=>[a(o(J))]),_:1})]),t[20]||(t[20]=s("div",{class:"action-info"},[s("h3",null,"功能点管理"),s("p",null,"查看功能点列表")],-1)),s("div",Bs,[a(e,null,{default:n(()=>[a(o(v))]),_:1})])])])]),s("div",Ms,[t[23]||(t[23]=s("div",{class:"panel-header"},[s("h2",null,"最近项目"),s("div",{class:"panel-line"})],-1)),s("div",Ps,[(h(!0),f(S,null,F(g.value,i=>(h(),f("div",{key:i.id,class:"project-item",onClick:p=>l.$router.push(`/test-cases/generate?project_id=${i.id}&reset=true`)},[s("div",Es,[a(e,null,{default:n(()=>[a(o($))]),_:1})]),s("div",Gs,[s("div",Hs,d(i.name),1),s("div",Js,[s("span",{class:K(["project-status",i.status])},d(i.status),3),s("span",Ks,d(D(i.created_at)),1)])]),a(e,{class:"project-arrow"},{default:n(()=>[a(o(v))]),_:1})],8,Vs))),128)),g.value.length===0?(h(),f("div",Os,[a(e,null,{default:n(()=>[a(o(y))]),_:1}),t[22]||(t[22]=s("p",null,"暂无项目，点击创建",-1))])):L("",!0)])])])])}}}),Ys=W(Qs,[["__scopeId","data-v-ed119fbd"]]);export{Ys as default};
