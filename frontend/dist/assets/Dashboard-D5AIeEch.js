import{d as A,o as N,J as I,K as f,e as s,y as d,b as a,w as n,L as S,M as L,N as z,r as u,f as F,a as h,u as o,j as y,O as T,k as V,P as q,t as B,Q as M,n as P,R as E,S as $,T as v,U,m as J,l as K,V as O}from"./index-DK81lzkh.js";import{p as Q,d as R,t as G,a as H}from"./index-BL4ylxUb.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"dashboard"},Y={class:"dashboard-header"},Z={class:"header-time"},x={class:"time"},ss={class:"date"},ts={class:"stats-grid"},as={class:"stat-card projects"},es={class:"stat-content"},ls={class:"stat-icon"},ns={class:"stat-info"},os={class:"stat-value"},is={class:"stat-trend"},ds={class:"stat-card documents"},cs={class:"stat-content"},rs={class:"stat-icon"},us={class:"stat-info"},vs={class:"stat-value"},_s={class:"stat-trend"},ps={class:"stat-card testcases"},ms={class:"stat-content"},fs={class:"stat-icon"},hs={class:"stat-info"},gs={class:"stat-value"},Cs={class:"stat-trend"},ws={class:"stat-card scripts"},js={class:"stat-content"},bs={class:"stat-icon"},ks={class:"stat-info"},ys={class:"stat-value"},$s={class:"stat-trend"},Ds={class:"main-content"},As={class:"quick-actions-panel"},Ns={class:"actions-grid"},Is={class:"action-icon-wrapper"},Ss={class:"action-arrow"},Ls={class:"action-icon-wrapper"},zs={class:"action-arrow"},Fs={class:"action-icon-wrapper ai"},Ts={class:"action-arrow"},Vs={class:"action-icon-wrapper"},qs={class:"action-arrow"},Bs={class:"side-panel"},Ms={class:"recent-projects"},Ps=["onClick"],Es={class:"project-icon"},Us={class:"project-info"},Js={class:"project-name"},Ks={class:"project-meta"},Os={class:"project-date"},Qs={key:0,class:"empty-state"},Rs=A({__name:"Dashboard",setup(Gs){const c=u({projects:0,documents:0,testCases:0,scripts:0}),r=u({projects:0,documents:0,testCases:0,scripts:0}),g=u([]),w=u(""),j=u("");let C=null;const b=()=>{const l=new Date;w.value=l.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),j.value=l.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})},_=(l,t)=>{const i=r.value[t],p=(l-i)/(1e3/16);let m=i;const k=()=>{m+=p,p>0&&m>=l||p<0&&m<=l?r.value[t]=l:(r.value[t]=Math.round(m),requestAnimationFrame(k))};requestAnimationFrame(k)},D=l=>l?new Date(l).toLocaleDateString("zh-CN",{month:"short",day:"numeric"}):"-";return N(async()=>{b(),C=window.setInterval(b,1e3);try{const[l,t,e,i]=await Promise.all([Q.list({limit:5}),R.list({limit:100}),G.list({limit:100}),H.list({limit:100})]);g.value=l,c.value.projects=l.length,c.value.documents=t.length,c.value.testCases=e.length,c.value.scripts=i.length,_(c.value.projects,"projects"),_(c.value.documents,"documents"),_(c.value.testCases,"testCases"),_(c.value.scripts,"scripts")}catch(l){console.error("Failed to load dashboard data:",l)}}),I(()=>{C&&clearInterval(C)}),(l,t)=>{const e=F;return h(),f("div",X,[s("div",Y,[t[4]||(t[4]=s("div",{class:"header-content"},[s("h1",{class:"title"},"测试用例生成平台"),s("p",{class:"subtitle"},"AI驱动的智能化测试用例管理系统")],-1)),s("div",Z,[s("div",x,d(w.value),1),s("div",ss,d(j.value),1)])]),s("div",ts,[s("div",as,[t[7]||(t[7]=s("div",{class:"stat-bg"},null,-1)),s("div",es,[s("div",ls,[a(e,null,{default:n(()=>[a(o(y))]),_:1})]),s("div",ns,[s("div",os,d(r.value.projects),1),t[5]||(t[5]=s("div",{class:"stat-label"},"项目总数",-1))])]),s("div",is,[a(e,null,{default:n(()=>[a(o(T))]),_:1}),t[6]||(t[6]=s("span",null,"活跃项目",-1))])]),s("div",ds,[t[10]||(t[10]=s("div",{class:"stat-bg"},null,-1)),s("div",cs,[s("div",rs,[a(e,null,{default:n(()=>[a(o(V))]),_:1})]),s("div",us,[s("div",vs,d(r.value.documents),1),t[8]||(t[8]=s("div",{class:"stat-label"},"文档总数",-1))])]),s("div",_s,[a(e,null,{default:n(()=>[a(o(q))]),_:1}),t[9]||(t[9]=s("span",null,"已解析",-1))])]),s("div",ps,[t[13]||(t[13]=s("div",{class:"stat-bg"},null,-1)),s("div",ms,[s("div",fs,[a(e,null,{default:n(()=>[a(o(B))]),_:1})]),s("div",hs,[s("div",gs,d(r.value.testCases),1),t[11]||(t[11]=s("div",{class:"stat-label"},"测试用例",-1))])]),s("div",Cs,[a(e,null,{default:n(()=>[a(o(M))]),_:1}),t[12]||(t[12]=s("span",null,"已审核",-1))])]),s("div",ws,[t[16]||(t[16]=s("div",{class:"stat-bg"},null,-1)),s("div",js,[s("div",bs,[a(e,null,{default:n(()=>[a(o(P))]),_:1})]),s("div",ks,[s("div",ys,d(r.value.scripts),1),t[14]||(t[14]=s("div",{class:"stat-label"},"测试脚本",-1))])]),s("div",$s,[a(e,null,{default:n(()=>[a(o(E))]),_:1}),t[15]||(t[15]=s("span",null,"可执行",-1))])])]),s("div",Ds,[s("div",As,[t[21]||(t[21]=s("div",{class:"panel-header"},[s("h2",null,"快速操作"),s("div",{class:"panel-line"})],-1)),s("div",Ns,[s("div",{class:"action-card",onClick:t[0]||(t[0]=i=>l.$router.push("/projects"))},[s("div",Is,[a(e,null,{default:n(()=>[a(o($))]),_:1})]),t[17]||(t[17]=s("div",{class:"action-info"},[s("h3",null,"创建项目"),s("p",null,"新建测试项目")],-1)),s("div",Ss,[a(e,null,{default:n(()=>[a(o(v))]),_:1})])]),s("div",{class:"action-card",onClick:t[1]||(t[1]=i=>l.$router.push("/documents"))},[s("div",Ls,[a(e,null,{default:n(()=>[a(o(U))]),_:1})]),t[18]||(t[18]=s("div",{class:"action-info"},[s("h3",null,"上传文档"),s("p",null,"导入需求文档")],-1)),s("div",zs,[a(e,null,{default:n(()=>[a(o(v))]),_:1})])]),s("div",{class:"action-card",onClick:t[2]||(t[2]=i=>l.$router.push("/test-cases/generate"))},[s("div",Fs,[a(e,null,{default:n(()=>[a(o(J))]),_:1})]),t[19]||(t[19]=s("div",{class:"action-info"},[s("h3",null,"AI生成用例"),s("p",null,"智能生成测试用例")],-1)),s("div",Ts,[a(e,null,{default:n(()=>[a(o(v))]),_:1})])]),s("div",{class:"action-card",onClick:t[3]||(t[3]=i=>l.$router.push("/function-points"))},[s("div",Vs,[a(e,null,{default:n(()=>[a(o(K))]),_:1})]),t[20]||(t[20]=s("div",{class:"action-info"},[s("h3",null,"功能点管理"),s("p",null,"查看功能点列表")],-1)),s("div",qs,[a(e,null,{default:n(()=>[a(o(v))]),_:1})])])])]),s("div",Bs,[t[23]||(t[23]=s("div",{class:"panel-header"},[s("h2",null,"最近项目"),s("div",{class:"panel-line"})],-1)),s("div",Ms,[(h(!0),f(S,null,L(g.value,i=>(h(),f("div",{key:i.id,class:"project-item",onClick:p=>l.$router.push(`/test-cases/generate?project_id=${i.id}&reset=true`)},[s("div",Es,[a(e,null,{default:n(()=>[a(o(y))]),_:1})]),s("div",Us,[s("div",Js,d(i.name),1),s("div",Ks,[s("span",{class:O(["project-status",i.status])},d(i.status),3),s("span",Os,d(D(i.created_at)),1)])]),a(e,{class:"project-arrow"},{default:n(()=>[a(o(v))]),_:1})],8,Ps))),128)),g.value.length===0?(h(),f("div",Qs,[a(e,null,{default:n(()=>[a(o($))]),_:1}),t[22]||(t[22]=s("p",null,"暂无项目，点击创建",-1))])):z("",!0)])])])])}}}),Ys=W(Rs,[["__scopeId","data-v-28f678ed"]]);export{Ys as default};
